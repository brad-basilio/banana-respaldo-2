import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as g,R as ct}from"./index-BH53Isel.js";import"./ProductNavigation-BvCahFZS.js";import{I as dt}from"./ItemsRest-BSMuMwsF.js";import{A as L}from"./ArrayJoin-2k6ba35P.js";import{S as $e}from"./SelectForm-DFP8Osy1.js";import{m as y}from"./main-6DCdASTx.js";import{C as mt}from"./CardProductBananaLab-AJ1xEozu.js";import{m as o}from"./proxy-F8AlgMSF.js";import{L as ut}from"./list-filter-vfj7BeWJ.js";import{S as gt}from"./sliders-vertical-C5ts4taK.js";import{F as ht}from"./filter-Ci9tsc_e.js";import{L as Ge}from"./layers-6oegOx-p.js";import{C as ee}from"./chevron-down-DS-mdh9v.js";import{A as S}from"./index-CmxRu895.js";import{S as Oe}from"./search-TwiiKGP5.js";import{C as te}from"./circle-check-CPWcvHtC.js";import{G as ae,T as Re,a as ze}from"./trending-up-BNyqqIMO.js";import{S as pt}from"./star-wPQTHY_n.js";import{T as xt}from"./tag-BY9rARtP.js";import{X as H}from"./x-DBMwyD6F.js";import{H as bt}from"./hash-CIT11INC.js";import{S as Xe}from"./shopping-bag-CoWGrL8C.js";import{S as Je}from"./sparkles-DeLUn6av.js";import{C as ft}from"./chevron-left-B2s3ZsB7.js";import{C as yt}from"./chevron-right-Ckt5D2ka.js";import"./index-yBjzXJbu.js";import"./ProductCard-CRhBSmWZ.js";import"./HeaderSearch-BZ6sxqwg.js";import"./PaymentModal-BB1JXzaZ.js";import"./index-fNjTmf9T.js";import"./index-Chjiymov.js";import"./CartItemRow-CLVGv7Ee.js";import"./Number2Currency-e57Tgsuk.js";import"./tippy-react.esm-BWiGTO87.js";import"./index-rimy3MAc.js";import"./trash-2-DK1wnsDn.js";import"./createLucideIcon-Cy5Ya80P.js";import"./plus-Bot15Khs.js";import"./eye-CKCH9ORv.js";import"./BasicRest-C4m6wu80.js";import"./index-BZYhE2TF.js";import"./check-DQ7QoS0v.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./HeaderBananaLab-eCy6D1O1.js";/* empty css              */import"./shopping-cart-CZEUxbmv.js";import"./arrow-right-DR00rP9v.js";import"./heart-ChuvJi-4.js";import"./circle-check-big-D6DM3vPb.js";const U=new dt,b={container:{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"}},section:{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"}},item:{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.2,ease:"easeOut"}},hover:{scale:1.02,y:-2,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}},x={filterContainer:"backdrop-blur-xl bg-gradient-to-br from-white/95 via-white/90 to-white/85 border border-gray-200/60 rounded-2xl shadow-2xl shadow-gray-900/10",filterHeader:"bg-white border-b border-gray-200/60 rounded-t-2xl",filterSection:"group transition-all duration-300 hover:bg-gradient-to-r hover:from-gray-50/60 hover:to-blue-50/40 rounded-xl",filterButton:"w-full flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 group",filterContent:"bg-gradient-to-b from-white/90 to-gray-50/50 rounded-xl border border-gray-200/40 backdrop-blur-sm",searchInput:"w-full pl-12 pr-4 py-3 bg-white/90 backdrop-blur-sm border border-gray-200/60 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all duration-300 placeholder:customtext-neutral-dark",checkbox:"min-h-5 min-w-5 rounded-lg border-2 border-gray-300 text-blue-600 focus:ring-blue-500/30 focus:ring-2 transition-all duration-200 hover:border-blue-400",label:"flex items-center gap-3 py-0 px-3 rounded-lg transition-all duration-200 hover:bg-gradient-to-r hover:from-blue-50/60 hover:to-indigo-50/40 cursor-pointer group"},wt=({delay:C=0})=>e.jsx(o.div,{className:"group w-full h-full",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:C,duration:.6,ease:"easeOut"},children:e.jsx("div",{className:"px-2 h-full",children:e.jsx("div",{className:"bg-white rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden h-full",children:e.jsxs("div",{className:"flex flex-col h-[400px] lg:h-[460px] xl:h-[400px] 2xl:h-[430px]",children:[e.jsxs("div",{className:"relative flex-1 bg-gray-100 rounded-t-3xl overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 via-gray-100 to-gray-200",children:[e.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2.5s_infinite] bg-gradient-to-r from-transparent via-white/70 to-transparent transform skew-x-12"}),e.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_3s_infinite] bg-gradient-to-r from-transparent via-blue-100/30 to-transparent transform skew-x-12",style:{animationDelay:"0.5s"}})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(o.div,{animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(Xe,{className:"w-12 h-12 text-gray-300"})})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("div",{className:"h-6 w-16 bg-gray-300 rounded-full animate-pulse"})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full animate-pulse"})})]}),e.jsxs("div",{className:"p-4 space-y-3 bg-white flex-shrink-0",children:[e.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded-full animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-full bg-gray-300 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-3/4 bg-gray-300 rounded animate-pulse"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-5 w-24 bg-gray-400 rounded animate-pulse"})]}),e.jsx("div",{className:"h-10 w-10 bg-gray-300 rounded-xl animate-pulse"})]}),e.jsxs("div",{className:"flex items-center space-x-1 pt-1",children:[[1,2,3,4,5].map(k=>e.jsx("div",{className:"h-3 w-3 bg-gray-200 rounded-full animate-pulse"},k)),e.jsx("div",{className:"h-3 w-8 bg-gray-200 rounded animate-pulse ml-2"})]})]})]})})})}),Ca=({items:C,data:k,filteredData:f,cart:M,setCart:F,setFavorites:V,favorites:De})=>{var je,ve,Ne,_e,Ce,Se,ke,Te,Ie,Pe,Ae,Le,Fe,Ee,He,Me,Be;const[Nt,_t]=g.useState(null),[N,se]=g.useState([]),[B,ie]=g.useState([]),[P,le]=g.useState([]),[R,Ke]=g.useState([]),[Ct,oe]=g.useState([]),[Ue,Ve]=g.useState([]),[St,kt]=g.useState(null),re=[{min:0,max:50,label:"Hasta s/ 50"},{min:50,max:100,label:"S/ 50 - s/ 100"},{min:100,max:250,label:"S/ 100 - s/ 250"},{min:250,max:500,label:"S/ 250 - s/ 500"},{min:500,max:1e3,label:"S/ 500 - s/ 1.000"},{min:1e3,max:2e3,label:"S/ 1.000 - s/ 2.000"},{min:2e3,max:5e3,label:"S/ 2.000 - s/ 5.000"},{min:5e3,max:999999,label:"Desde s/ 5.000"}],[T,We]=g.useState(()=>typeof window<"u"&&window.innerWidth>=1024?{marca:!1,precio:!1,categoria:!1,subcategoria:!1,colores:!1,coleccion:!1}:{marca:!1,precio:!1,categoria:!1,subcategoria:!1,colores:!1,coleccion:!1}),[r,w]=g.useState({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],tag_id:y.GET.tag?y.GET.tag.split(","):[],price:[],name:y.GET.search||null,sort:[{selector:"final_price",desc:!0}]}),Qe=async()=>{try{const t={};if(y.GET.category&&(t.category_slugs=y.GET.category),y.GET.subcategory&&(t.subcategory_slugs=y.GET.subcategory),y.GET.collection&&(t.collection_slugs=y.GET.collection),Object.keys(t).length>0){const a=await U.convertSlugs(t);console.log("Estamos fuera de estatus 200"),a.status===200&&(console.log("Estamos dentro de estatus 200"),console.log("Response data:",a.data),w(i=>({...i,category_id:Array.isArray(a.data.category_ids)?a.data.category_ids:a.data.category_ids?[a.data.category_ids]:[],brand_id:y.GET.brand||[],subcategory_id:Array.isArray(a.data.subcategory_ids)?a.data.subcategory_ids:a.data.subcategory_ids?[a.data.subcategory_ids]:[],collection_id:Array.isArray(a.data.collection_ids)?a.data.collection_ids:a.data.collection_ids?[a.data.collection_ids]:[]})))}}catch(t){console.error("Error converting slugs to IDs:",t)}},[Ye,W]=g.useState([]),[$,ne]=g.useState([]),[ce,de]=g.useState(!0),[G,me]=g.useState(!1),[z,ue]=g.useState(!1),[Ze,J]=g.useState(!1),[p,ge]=g.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:24,from:0,to:0}),he=t=>{const a=[];if(t.collection_id.length>0){const i=t.collection_id.map(s=>{var l;return["collection.id","=",((l=R.find(n=>n.slug===s))==null?void 0:l.id)||s]});a.push(L(i,"or"))}if(t.category_id.length>0){const i=t.category_id.map(s=>["category.id","=",s]);a.push(L(i,"or"))}if(t.subcategory_id.length>0){const i=t.subcategory_id.map(s=>["subcategory.id","=",s]);a.push(L(i,"or"))}if(t.brand_id.length>0){const i=t.brand_id.map(s=>{const l=N.find(n=>n.slug===s);return l?["brand.slug","=",l.slug]:["brand.slug","=",s]});a.push(L(i,"or"))}if(t.tag_id&&t.tag_id.length>0){const i=t.tag_id.map(s=>["item_tag.tag_id","=",s]);a.push(L(i,"or"))}if(t.price&&t.price.length>0){const i=t.price.map(s=>["and",[["final_price",">=",s.min],"and",["final_price","<=",s.max]]]);a.push(L(i,"or"))}if(t.name){const i=[["name","contains",t.name],"or",["summary","contains",t.name],"or",["description","contains",t.name]];a.push(i)}return L(a,"and")},pe=t=>[["name","contains",t],"or",["summary","contains",t],"or",["description","contains",t]],[_,Q]=g.useState(!0),[qe,X]=g.useState(null),A=t=>{if(!t||t.length<2||!_)return console.log("ðŸš« BÃºsqueda inteligente deshabilitada o query muy corto:",{query:t,length:t==null?void 0:t.length,enabled:_}),null;const a=t.toLowerCase().trim();console.log("ðŸ” Buscando filtros inteligentes para:",a),console.log("ðŸ“Š Datos disponibles:",{categories:P.length,brands:N.length,subcategories:B.length,collections:R.length});const i=P.filter(d=>{const u=d.name.toLowerCase().includes(a)||a.includes(d.name.toLowerCase());return u&&console.log("âœ… CategorÃ­a encontrada:",d.name),u}),s=N.filter(d=>{const u=d.name.toLowerCase().includes(a)||a.includes(d.name.toLowerCase());return u&&console.log("âœ… Marca encontrada:",d.name,"slug:",d.slug),u}),l=B.filter(d=>{const u=d.name.toLowerCase().includes(a)||a.includes(d.name.toLowerCase());return u&&console.log("âœ… SubcategorÃ­a encontrada:",d.name),u}),n=R.filter(d=>{const u=d.name.toLowerCase().includes(a)||a.includes(d.name.toLowerCase());return u&&console.log("âœ… ColecciÃ³n encontrada:",d.name),u}),m={categories:i,brands:s,subcategories:l,collections:n,hasMatches:i.length>0||s.length>0||l.length>0||n.length>0};return console.log("ðŸ“‹ Resultado de detecciÃ³n inteligente:",m),m},xe=t=>{const a=A(t);if(!a||!a.hasMatches)return!1;const i=a.categories.some(m=>r.category_id.includes(m.id)),s=a.brands.some(m=>r.brand_id.includes(m.slug)),l=a.subcategories.some(m=>r.subcategory_id.includes(m.id)),n=a.collections.some(m=>r.collection_id.includes(m.slug));return i||s||l||n},D=t=>{if(!t||t.length<2)return;const a=A(t);a&&a.hasMatches&&_?(console.log("ðŸ§  Aplicando bÃºsqueda inteligente para:",t),X(t),w(i=>{const s={...i,name:t};if(a.categories.length>0){const l=a.categories.map(n=>n.id);s.category_id=[...new Set([...s.category_id,...l])],console.log("ðŸ“‚ CategorÃ­as detectadas:",a.categories.map(n=>n.name))}if(a.brands.length>0){const l=a.brands.map(n=>n.slug);s.brand_id=[...new Set([...s.brand_id,...l])],console.log("ðŸ·ï¸ Marcas detectadas:",a.brands.map(n=>n.name))}if(a.subcategories.length>0){const l=a.subcategories.map(n=>n.id);s.subcategory_id=[...new Set([...s.subcategory_id,...l])],console.log("ðŸ“‹ SubcategorÃ­as detectadas:",a.subcategories.map(n=>n.name))}if(a.collections.length>0){const l=a.collections.map(n=>n.slug);s.collection_id=[...new Set([...s.collection_id,...l])],console.log("ðŸŽ¯ Colecciones detectadas:",a.collections.map(n=>n.name))}return s})):(w(i=>({...i,name:t})),X(null))},et=()=>{Q(!_),console.log(`ðŸ§  BÃºsqueda inteligente ${_?"desactivada":"activada"}`)},tt=()=>{if(qe&&r.name){const t=A(r.name);t&&t.hasMatches&&w(a=>{const i={...a};if(t.categories.length>0){const s=t.categories.map(l=>l.id);i.category_id=i.category_id.filter(l=>!s.includes(l))}if(t.brands.length>0){const s=t.brands.map(l=>l.slug);i.brand_id=i.brand_id.filter(l=>!s.includes(l))}if(t.subcategories.length>0){const s=t.subcategories.map(l=>l.id);i.subcategory_id=i.subcategory_id.filter(l=>!s.includes(l))}if(t.collections.length>0){const s=t.collections.map(l=>l.slug);i.collection_id=i.collection_id.filter(l=>!s.includes(l))}return i})}X(null)},at=async t=>{var n,m;console.log("=== DEBUG COMPARISON ==="),console.log("Query:",t);const a=A(t);console.log("ðŸ§  Filtros inteligentes detectados:",a);const i={...r,name:t};a&&a.hasMatches&&(a.categories.length>0&&(i.category_id=[...new Set([...i.category_id,...a.categories.map(d=>d.id)])]),a.brands.length>0&&(i.brand_id=[...new Set([...i.brand_id,...a.brands.map(d=>d.slug)])]),a.subcategories.length>0&&(i.subcategory_id=[...new Set([...i.subcategory_id,...a.subcategories.map(d=>d.id)])]),a.collections.length>0&&(i.collection_id=[...new Set([...i.collection_id,...a.collections.map(d=>d.slug)])]));const s=he(i);console.log("Catalog filters (enhanced):",s);const l=pe(t);console.log("Header filters (basic):",l);try{const u=await(await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:l,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})})).json();console.log("Header-style response:",u);const h=await U.paginate({filter:s,sort:[{selector:"name",desc:!1}],skip:0,take:8,requireTotalCount:!1,with:"category,brand"});console.log("Catalog-style response (enhanced):",h);const v=((n=u==null?void 0:u.data)==null?void 0:n.length)||0,c=((m=h==null?void 0:h.data)==null?void 0:m.length)||0;console.log("ðŸ“Š ComparaciÃ³n de resultados:"),console.log(`- Header (bÃ¡sico): ${v} productos`),console.log(`- Catalog (inteligente): ${c} productos`),c>v?console.log("âœ… La bÃºsqueda inteligente encontrÃ³ mÃ¡s productos relevantes!"):v>c?console.log("âš ï¸ La bÃºsqueda bÃ¡sica encontrÃ³ mÃ¡s productos"):console.log("ðŸ¤· Ambas bÃºsquedas encontraron la misma cantidad")}catch(d){console.error("Debug comparison error:",d)}console.log("=== END DEBUG ===")};window.debugCatalogSearch=at,window.handleIntelligentSearch=D,window.toggleIntelligentSearch=et,window.clearIntelligentFilters=tt,window.isIntelligentSearchActive=xe,window.detectIntelligentFilters=A,window.testJBLSearch=()=>{console.log("ðŸ§ª Testing JBL search..."),console.log("ðŸ“Š Current state:",{brands:N.map(a=>({name:a.name,slug:a.slug})),intelligentSearchEnabled:_,selectedFilters:r,brandsCount:N.length});const t=A("JBL");console.log("ðŸ” JBL detection result:",t),t&&t.hasMatches?(console.log("âœ… JBL detectado correctamente"),D("JBL")):(console.log("âŒ JBL no detectado"),console.log("ðŸ” Buscando manualmente en brands:",N.filter(a=>a.name.toLowerCase().includes("jbl")||"jbl".includes(a.name.toLowerCase()))),console.log("ðŸ·ï¸ Todas las marcas disponibles:",N.map(a=>a.name)))},window.simulateHeaderSearch=t=>{console.log("ðŸŽ¯ Simulando bÃºsqueda desde HeaderSearchB:",t),w(a=>({...a,name:t})),console.log("âœ… Filtro de nombre aplicado, esperando useEffect...")},window.forceIntelligentSearch=t=>{console.log("ðŸš€ Forzando bÃºsqueda inteligente para:",t);const a=_;Q(!0),setTimeout(()=>{D(t),Q(a)},100)};const Y=async(t=1,a=!1)=>{var i,s,l,n,m,d;J(!1),a?me(!0):de(!0);try{const u=he(r),h=24;console.log("Selected filters:",r),console.log("Transformed filters:",u);const v={filter:u,sort:r.sort,skip:(t-1)*h,take:h,requireTotalCount:!0,filterSequence:Ye};console.log("API params:",v);const c=await U.paginate(v);if(console.log("API response:",c),c.status!==200)throw new Error(`API returned status ${c.status}`);ne(c.data||[]),ue(!0),(!c.data||c.data.length===0)&&setTimeout(()=>{J(!0)},300);const E=c.totalCount||0,nt=Math.ceil(E/h);ge({currentPage:t,totalPages:nt,totalItems:E,itemsPerPage:h,from:E>0?(t-1)*h+1:0,to:Math.min(t*h,E)}),se(((i=c==null?void 0:c.summary)==null?void 0:i.brands)||[]),le(((s=c==null?void 0:c.summary)==null?void 0:s.categories)||[]),ie(((l=c==null?void 0:c.summary)==null?void 0:l.subcategories)||[]),Ke(((n=c==null?void 0:c.summary)==null?void 0:n.collections)||[]),oe(((m=c==null?void 0:c.summary)==null?void 0:m.priceRanges)||[]),Ve(((d=c==null?void 0:c.summary)==null?void 0:d.tags)||[])}catch(u){if(console.error("Error fetching products:",u),r.name&&r.category_id.length===0&&r.brand_id.length===0&&r.subcategory_id.length===0&&r.collection_id.length===0&&r.tag_id.length===0&&r.price.length===0){console.log("Attempting fallback with simple search filters");try{const h={filter:pe(r.name),sort:r.sort,skip:(t-1)*24,take:24,requireTotalCount:!0,with:"category,brand"},v=await U.paginate(h);if(v.status===200){ne(v.data||[]),ue(!0),(!v.data||v.data.length===0)&&setTimeout(()=>{J(!0)},300);const c=v.totalCount||0,E=Math.ceil(c/24);ge({currentPage:t,totalPages:E,totalItems:c,itemsPerPage:24,from:c>0?(t-1)*24+1:0,to:Math.min(t*24,c)});return}}catch(h){console.error("Fallback search also failed:",h)}}setTimeout(()=>{J(!0)},300)}finally{de(!1),me(!1)}};g.useEffect(()=>{f&&(le(f.categories||[]),se(f.brands||[]),ie(f.subcategories||[]),oe(f.priceRanges||[])),Qe(),y.GET.search&&_&&setTimeout(()=>{console.log("ðŸš€ Inicializando bÃºsqueda inteligente para:",y.GET.search),D(y.GET.search)},100),Y(1,!1)},[f,_]),g.useEffect(()=>{z&&Y(1,!0)},[r,z]),g.useEffect(()=>{r.name&&_&&N.length>0&&(console.log("ðŸ” Detectando cambio en filtro de nombre:",r.name),xe(r.name)||(console.log("ðŸ§  Aplicando bÃºsqueda inteligente automÃ¡tica para:",r.name),setTimeout(()=>{const a=A(r.name);a&&a.hasMatches&&(console.log("âœ… Aplicando filtros inteligentes detectados"),w(i=>{const s={...i};if(a.brands.length>0){const l=a.brands.map(n=>n.slug);s.brand_id=[...new Set([...s.brand_id,...l])],console.log("ðŸ·ï¸ Marcas aplicadas:",a.brands.map(n=>n.name))}if(a.categories.length>0){const l=a.categories.map(n=>n.id);s.category_id=[...new Set([...s.category_id,...l])],console.log("ðŸ“‚ CategorÃ­as aplicadas:",a.categories.map(n=>n.name))}if(a.subcategories.length>0){const l=a.subcategories.map(n=>n.id);s.subcategory_id=[...new Set([...s.subcategory_id,...l])],console.log("ðŸ“‹ SubcategorÃ­as aplicadas:",a.subcategories.map(n=>n.name))}if(a.collections.length>0){const l=a.collections.map(n=>n.slug);s.collection_id=[...new Set([...s.collection_id,...l])],console.log("ðŸŽ¯ Colecciones aplicadas:",a.collections.map(n=>n.name))}return s}),X(r.name))},100)))},[r.name,_,N,P,B,R]);const Z=t=>{t>=1&&t<=p.totalPages&&t!==p.currentPage&&(window.scrollTo({top:0,behavior:"smooth"}),Y(t,!1))},st=()=>{const t=[],a=p.totalPages,i=p.currentPage,s=2;for(let l=1;l<=a;l++)l===1||l===a||l>=i-s&&l<=i+s?t.push(l):(l===i-s-1||l===i+s+1)&&t.push("...");return t.filter((l,n,m)=>l!=="..."||m[n-1]!=="...")},be=[{value:"created_at:desc",label:"MÃ¡s reciente"},{value:"created_at:asc",label:"Mas antiguo"},{value:"final_price:asc",label:"Precio: Menor a Mayor"},{value:"final_price:desc",label:"Precio: Mayor a Menor"},{value:"name:asc",label:"Nombre: A-Z"},{value:"name:desc",label:"Nombre: Z-A"},{value:"most_sold:desc",label:"MÃ¡s vendidos"},{value:"views:desc",label:"MÃ¡s visitados"},{value:"best_discount:desc",label:"Mejores ofertas"}],I=(t,a)=>{if(["is_new","offering","recommended","featured"].includes(t)){w(s=>({...s,[t]:s[t]?!s[t]:!0}));return}w(s=>{if(t==="price"){const m=Array.isArray(s.price)?s.price:[],d=m.some(h=>h.min===a.min&&h.max===a.max);let u;return d?u=m.filter(h=>!(h.min===a.min&&h.max===a.max)):u=[...m,a],{...s,price:u}}const l=Array.isArray(s[t])?s[t]:[];let n;return l.includes(a)?n=l.filter(m=>m!==a):n=[...l,a],{...s,[t]:n}}),W(s=>{var n,m;return["brand_id","category_id","collection_id"].includes(t)?(n=r[t])!=null&&n.includes(a)?(((m=r[t])==null?void 0:m.filter(u=>u!==a))||[]).length===0?s.filter(u=>u!==t):s:s.includes(t)?s:[...s,t]:s})},q=t=>{We(a=>({...a,[t]:!a[t]}))},[fe,it]=g.useState(""),[ye,lt]=g.useState(""),[ot,Tt]=g.useState(""),rt=P.filter(t=>t.name.toLowerCase().includes(fe.toLowerCase())),we=B.filter(t=>{let a;return console.log("selectedFilters.category_id",r.category_id),r.category_id&&r.category_id.length>0?a=P.filter(i=>r.category_id.includes(i.id)).map(i=>i.id):a=P.map(i=>i.id),a.includes(t.category_id)&&t.name.toLowerCase().includes(ye.toLowerCase())});N.filter(t=>t.name.toLowerCase().includes(ot.toLowerCase()));const[j,K]=g.useState(!1);return g.useEffect(()=>(j?(document.body.classList.add("filter-modal-open"),document.body.style.overflow="hidden"):(document.body.classList.remove("filter-modal-open"),document.body.style.overflow="unset"),()=>{document.body.classList.remove("filter-modal-open"),document.body.style.overflow="unset"}),[j]),e.jsx("section",{className:"py-4 lg:py-12 bg-gradient-to-br from-gray-50/50 via-white to-blue-50/30",children:e.jsxs("div",{className:"mx-auto px-primary 2xl:px-0 2xl:max-w-7xl",children:[e.jsxs(o.div,{className:"flex flex-col md:flex-row md:justify-between items-start md:items-center mb-6 lg:mb-8 lg:pb-6 lg:border-b-2 border-gradient-to-r from-blue-200 via-indigo-200 to-purple-200",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(o.div,{className:"md:w-6/12 mb-0 md:mb-0",whileHover:{scale:1.02},children:e.jsx("h2",{className:"text-2xl lg:text-[32px] md:text-4xl font-bold customtext-primary  lg:mb-2",children:k==null?void 0:k.title})}),e.jsx("div",{className:"hidden md:flex flex-col w-full items-start md:items-center justify-end gap-4 md:flex-row md:w-5/12",children:e.jsx(o.div,{className:"w-full md:w-6/12 relative",children:e.jsx($e,{options:be,placeholder:"Ordenar por",value:(ve=(je=r.sort)==null?void 0:je[0])!=null&&ve.selector&&((_e=(Ne=r.sort)==null?void 0:Ne[0])==null?void 0:_e.desc)!==void 0?`${r.sort[0].selector}:${r.sort[0].desc?"desc":"asc"}`:"final_price:desc",onChange:t=>{const[a,i]=t.split(":"),s=[{selector:a,desc:i==="desc"}];w(l=>({...l,sort:s}))},labelKey:"label",valueKey:"value",className:"customtext-neutral-dark border-primary rounded-lg",generalIcon:e.jsx(ut,{className:"w-5 h-5 mr-2 customtext-primary"})})})})]}),e.jsxs("div",{className:"relative flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"w-full flex lg:hidden lg:mb-6  items-stretch gap-3",children:[e.jsx(o.div,{className:"flex-1 max-w-max",children:e.jsx(vt,{text:"Abrir panel de filtros avanzados",position:"bottom",children:e.jsxs(o.button,{className:"w-full h-12 flex items-center justify-center gap-2 px-4 bg-primary text-white rounded-2xl shadow-xl shadow-blue-500/25 hover:shadow-2xl hover:shadow-blue-500/40 transition-all duration-300 overflow-hidden relative",onClick:()=>K(!0),whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},...b.container,children:[e.jsx(o.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),e.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[e.jsx(o.div,{className:"p-1.5 bg-white/20 rounded-lg backdrop-blur-sm",animate:{rotate:[0,10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:e.jsx(gt,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-sm font-bold",children:"Filtros"})]})]})})}),e.jsx(o.div,{className:"flex-1",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:e.jsx($e,{options:be,placeholder:"Ordenar",value:(Se=(Ce=r.sort)==null?void 0:Ce[0])!=null&&Se.selector&&((Te=(ke=r.sort)==null?void 0:ke[0])==null?void 0:Te.desc)!==void 0?`${r.sort[0].selector}:${r.sort[0].desc?"desc":"asc"}`:"final_price:desc",onChange:t=>{const[a,i]=t.split(":"),s=[{selector:a,desc:i==="desc"}];w(l=>({...l,sort:s}))},labelKey:"label",valueKey:"value",className:"!w-full customtext-neutral-dark border-primary rounded-2xl text-sm h-12"})})]}),e.jsxs(o.div,{className:`${j?"fixed inset-0 backdrop-blur-md z-[999] flex flex-col mobile-filter-modal":"hidden"} lg:block lg:w-3/12 lg:bg-transparent lg:h-max lg:relative lg:z-auto`,...j?b.container:{},initial:j?{opacity:0}:!1,animate:j?{opacity:1}:!1,exit:j?{opacity:0}:!1,transition:{duration:.3},onClick:j?t=>{t.target===t.currentTarget&&K(!1)}:void 0,children:[e.jsx("div",{className:`${j?"flex flex-col h-full bg-transparent":x.filterContainer} lg:backdrop-blur-xl lg:border lg:border-gray-200/60 lg:rounded-2xl lg:shadow-2xl lg:shadow-gray-900/10`,children:e.jsxs("div",{className:`${j?"mx-4 mt-4 mb-2 bg-white rounded-t-3xl shadow-2xl flex flex-col flex-1 overflow-hidden safe-area-top mobile-filter-content":""}`,children:[e.jsx(o.div,{className:`${x.filterHeader} p-6 flex items-center justify-between lg:relative lg:p-4`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o.div,{className:"p-2 bg-primary rounded-xl shadow-lg",whileHover:{rotate:360},transition:{duration:.6},children:e.jsx(ht,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold customtext-neutral-dark",children:"Filtros"}),e.jsx("p",{className:"text-sm customtext-neutral-dark hidden lg:block",children:"Refina tu bÃºsqueda con precisiÃ³n"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-6 custom-scrollbar",style:{height:j?"calc(100vh - 200px)":"auto",paddingBottom:j?"1rem":"1.5rem"},children:[e.jsxs(o.div,{className:x.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxs(o.button,{onClick:()=>q("categoria"),className:x.filterButton,whileHover:b.hover,whileTap:b.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:T.categoria?360:0},transition:{duration:.3},children:e.jsx(Ge,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"CategorÃ­as"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Explora por categorÃ­as"})]})]}),e.jsx(o.div,{animate:{rotate:T.categoria?180:0},transition:{duration:.3},children:e.jsx(ee,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(S,{children:T.categoria&&e.jsxs(o.div,{className:`mt-4 p-4 ${x.filterContent}`,...b.section,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(o.div,{className:"absolute left-4 top-4 z-[99]",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx("input",{type:"text",placeholder:"Buscar categorÃ­as...",className:x.searchInput,value:fe,onChange:t=>it(t.target.value)})]}),e.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar",children:e.jsx(S,{children:rt.map((t,a)=>{var i,s,l;return e.jsxs(o.div,{className:" rounded-xl overflow-hidden",...b.item,transition:{delay:a*.05},children:[e.jsxs(o.label,{className:`${x.label} `,children:[e.jsx("input",{type:"checkbox",className:x.checkbox,onChange:()=>I("category_id",t.id),checked:(i=r.category_id)==null?void 0:i.includes(t.id)}),e.jsx("span",{className:"text-sm line-clamp-1 customtext-neutral-dark  transition-colors duration-200",children:t.name}),((s=r.category_id)==null?void 0:s.includes(t.slug))&&e.jsx(o.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(te,{className:"h-4 w-4 customtext-primary"})})]}),e.jsx(S,{children:((l=r.category_id)==null?void 0:l.includes(t.slug))&&t.subcategories&&e.jsx(o.div,{className:"bg-gradient-to-b from-purple-25 to-white/50 p-3",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:e.jsx("div",{className:"space-y-2 pl-4 border-l-2 border-purple-200",children:t.subcategories.map(n=>{var m;return e.jsxs(o.label,{className:"flex items-center gap-2 py-1.5 px-2 rounded-lg hover:bg-purple-50/60 transition-colors duration-200 cursor-pointer group",whileHover:{x:3},children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-2 border-purple-300 text-purple-600 focus:ring-purple-500/30",onChange:()=>I("subcategory_id",n.slug),checked:(m=r.subcategory_id)==null?void 0:m.includes(n.slug)}),e.jsx("span",{className:"text-sm line-clamp-1 customtext-neutral-dark group-hover:text-purple-600 transition-colors duration-200",children:n.name})]},n.id)})})})})]},t.id)})})})]})})]}),e.jsxs(o.div,{className:x.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[e.jsxs(o.button,{onClick:()=>q("subcategoria"),className:x.filterButton,whileHover:b.hover,whileTap:b.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:T.subcategoria?360:0},transition:{duration:.3},children:e.jsx(ae,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"SubcategorÃ­as"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Busca por subcategorÃ­as especÃ­ficas"})]})]}),e.jsx(o.div,{animate:{rotate:T.subcategoria?180:0},transition:{duration:.3},children:e.jsx(ee,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(S,{children:T.subcategoria&&e.jsxs(o.div,{className:`mt-4 p-4 ${x.filterContent}`,...b.section,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(o.div,{className:"absolute left-4 top-4 z-[99]",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx("input",{type:"text",placeholder:"Buscar subcategorÃ­as...",className:x.searchInput,value:ye,onChange:t=>lt(t.target.value)})]}),e.jsx("div",{className:"space-y-2 max-h-[250px] overflow-y-auto custom-scrollbar",children:e.jsx(S,{children:we.length>0?we.map((t,a)=>{var i,s;return e.jsxs(o.label,{className:x.label,...b.item,transition:{delay:a*.05},children:[e.jsx("input",{type:"checkbox",className:x.checkbox,onChange:()=>I("subcategory_id",t.id),checked:(i=r.subcategory_id)==null?void 0:i.includes(t.id)}),e.jsx("span",{className:"text-sm line-clamp-1 font-medium customtext-neutral-dark transition-colors duration-200",children:t.name}),((s=r.subcategory_id)==null?void 0:s.includes(t.id))&&e.jsx(o.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(te,{className:"h-4 w-4 customtext-primary"})})]},t.id)}):e.jsxs(o.div,{className:"text-center py-6 customtext-neutral-dark",initial:{opacity:0},animate:{opacity:1},children:[e.jsx(ae,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No se encontraron subcategorÃ­as"})]})})})]})})]}),e.jsxs(o.div,{className:x.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsxs(o.button,{onClick:()=>q("precio"),className:x.filterButton,whileHover:b.hover,whileTap:b.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:T.precio?360:0},transition:{duration:.3},children:e.jsx(Re,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Rango de Precio"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Encuentra tu presupuesto ideal"})]})]}),e.jsx(o.div,{animate:{rotate:T.precio?180:0},transition:{duration:.3},children:e.jsx(ee,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(S,{children:T.precio&&e.jsx(o.div,{className:`mt-4 p-4 ${x.filterContent}`,...b.section,children:e.jsx("div",{className:"space-y-3 max-h-[220px] overflow-y-auto custom-scrollbar",children:e.jsx(S,{children:re.map((t,a)=>{var i,s;return e.jsxs(o.label,{className:x.label,...b.item,transition:{delay:a*.05},children:[e.jsx("input",{type:"checkbox",className:x.checkbox,onChange:()=>I("price",t),checked:((i=r.price)==null?void 0:i.some(l=>l.min===t.min&&l.max===t.max))||!1}),e.jsx("span",{className:"text-sm line-clamp-1 font-medium customtext-neutral-dark  transition-colors duration-200",children:t.label}),((s=r.price)==null?void 0:s.some(l=>l.min===t.min&&l.max===t.max))&&e.jsx(o.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(te,{className:"h-4 w-4 customtext-primary"})})]},`${t.min}-${t.max}`)})})})})})]}),e.jsx(o.div,{className:"mt-6 pt-6 border-t border-gray-200/60",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:e.jsx(S,{children:(((Ie=r.brand_id)==null?void 0:Ie.length)>0||((Pe=r.category_id)==null?void 0:Pe.length)>0||((Ae=r.subcategory_id)==null?void 0:Ae.length)>0||((Le=r.tag_id)==null?void 0:Le.length)>0||r.price&&r.price.length>0)&&e.jsxs(o.div,{className:"mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsxs("h4",{className:"text-sm font-semibold customtext-neutral-dark mb-3 flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4 customtext-primary"}),"Filtros Activos"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(Fe=r.brand_id)==null?void 0:Fe.map(t=>{const a=N.find(i=>i.slug===t);return a?e.jsxs(O,{onClick:()=>I("brand_id",t),className:"group",children:[e.jsx(xt,{className:"h-3 w-3"}),e.jsx("span",{children:a.name}),e.jsx(o.div,{className:"ml-1  rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx(H,{className:"h-3 w-3"})})]},t):null}),(Ee=r.category_id)==null?void 0:Ee.map(t=>{const a=P.find(i=>i.id===t);return a?e.jsxs(O,{onClick:()=>I("category_id",t),children:[e.jsx(Ge,{className:"h-3 w-3"}),e.jsx("span",{children:a.name}),e.jsx(o.div,{className:"ml-1  rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx(H,{className:"h-3 w-3"})})]},t):null}),(He=r.subcategory_id)==null?void 0:He.map(t=>{const a=B.find(i=>i.id===t);return a?e.jsxs(O,{onClick:()=>I("subcategory_id",t),children:[e.jsx(ae,{className:"h-3 w-3"}),e.jsx("span",{children:a.name}),e.jsx(o.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx(H,{className:"h-3 w-3"})})]},t):null}),(Me=r.tag_id)==null?void 0:Me.map(t=>{const a=Ue.find(i=>i.id===t);return a?e.jsxs(O,{onClick:()=>I("tag_id",t),children:[e.jsx(bt,{className:"h-3 w-3"}),e.jsx("span",{children:a.name}),e.jsx(o.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx(H,{className:"h-3 w-3"})})]},t):null}),(Be=r.price)==null?void 0:Be.map((t,a)=>{const i=re.find(s=>s.min===t.min&&s.max===t.max);return e.jsxs(O,{onClick:()=>I("price",t),children:[e.jsx(Re,{className:"h-3 w-3"}),e.jsx("span",{children:(i==null?void 0:i.label)||`S/ ${t.min} - S/ ${t.max}`}),e.jsx(o.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx(H,{className:"h-3 w-3"})})]},`price-${t.min}-${t.max}`)})]})]})})}),e.jsx(o.div,{className:"mt-6 pt-6 border-t border-gray-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:e.jsx(o.button,{className:"w-full p-4 bg-secondary customtext-neutral-dark rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 font-semibold",onClick:()=>{w({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],tag_id:[],price:[],name:null,sort_by:"created_at",order:"desc"}),W([])},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(ze,{className:"h-5 w-5"}),e.jsx("span",{children:"Limpiar todos los filtros"})]})})})]})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-white via-white to-gray-50 border-t border-gray-200 p-4 shadow-2xl backdrop-blur-xl lg:hidden z-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o.button,{className:"flex-1 bg-primary text-white py-3 px-6 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{K(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5"}),e.jsxs("span",{children:["Ver ",p.totalItems," Productos"]})]})}),e.jsx(o.button,{className:"p-3 bg-gray-100 hover:bg-gray-200 customtext-neutral-dark rounded-xl transition-colors duration-200",onClick:()=>K(!1),whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(H,{className:"h-5 w-5"})})]})})]}),e.jsxs(o.div,{className:"w-full lg:w-9/12 py-4",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[e.jsx(S,{mode:"wait",children:ce&&!z||G?e.jsxs(o.div,{className:"w-full",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95,transition:{duration:.3}},children:[e.jsxs(o.div,{className:"mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx(o.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"inline-block mb-4",children:e.jsx(Je,{className:"h-8 w-8 customtext-primary"})}),e.jsx("h3",{className:"text-xl font-bold customtext-neutral-dark mb-2",children:G?"Aplicando filtros...":"Cargando productos increÃ­bles"}),e.jsx("p",{className:"customtext-neutral-dark",children:G?"Encontrando los mejores resultados para ti...":"Preparando la mejor selecciÃ³n para ti..."})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-y-6  w-full",children:Array.from({length:12},(t,a)=>e.jsx("div",{className:"h-[400px] lg:h-[460px] xl:h-[400px] 2xl:h-[430px]",children:e.jsx(wt,{delay:a*.08})},a))})]},"loading"):e.jsxs(o.div,{className:"flex items-center flex-wrap gap-y-8 transition-all duration-300 ease-in-out relative",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[G&&e.jsx(o.div,{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-10 rounded-2xl",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(o.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(Je,{className:"h-8 w-8 customtext-primary"})}),e.jsx("p",{className:"text-sm font-semibold customtext-primary",children:"Aplicando filtros..."})]})}),Array.isArray($)&&$.length>0?$.map((t,a)=>e.jsx(o.div,{className:"w-1/2 lg:w-1/3 xl:w-1/3 lg:h-[460px] lg:max-h-[500px] xl:h-[450px] xl:max-h-[450px] 2xl:h-[450px] 2xl:max-h-[450px] flex items-center justify-center",initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:a*.1,duration:.5,type:"spring",stiffness:100},whileHover:{y:-5,transition:{duration:.2}},children:e.jsx(mt,{product:t,cart:M,setCart:F,setFavorites:V,favorites:De})},t.id)):z&&!ce&&!G&&Ze?e.jsx(o.div,{className:"w-full flex items-center justify-center py-16",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,type:"spring",stiffness:100},children:e.jsx("div",{className:"text-center space-y-6",children:e.jsxs(o.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[e.jsx("h3",{className:"text-xl font-bold customtext-neutral-dark",children:"Â¡Ups! No encontramos productos"}),e.jsx("p",{className:"customtext-neutral-dark max-w-md",children:"Intenta ajustar tus filtros o buscar tÃ©rminos diferentes."}),e.jsx(o.button,{className:"mt-4 px-6 py-3 bg-primary text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{w({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],tag_id:[],price:[],name:null,sort_by:"created_at",order:"desc"}),W([])},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{children:"Limpiar filtros"})]})})]})})}):null]},"products")}),Array.isArray($)&&$.length>0&&e.jsxs(o.div,{className:"flex flex-col md:flex-row justify-between items-center mb-4 w-full mt-12 gap-4 p-6 bg-gradient-to-r from-white via-gray-50/50 to-blue-50/50 rounded-2xl border border-gray-200/60 backdrop-blur-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsx("div",{className:"customtext-primary font-semibold w-full md:w-auto",children:e.jsx("div",{className:"overflow-x-auto pb-2",children:e.jsxs("nav",{className:"flex items-center gap-x-2 min-w-max",children:[e.jsxs(o.button,{className:`p-3 inline-flex items-center gap-2 rounded-xl transition-all duration-300 ${p.currentPage===1?"opacity-50 cursor-not-allowed bg-gray-100":"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 customtext-primary border border-blue-200"}`,onClick:()=>Z(p.currentPage-1),disabled:p.currentPage===1,whileTap:p.currentPage!==1?{scale:.95}:{},children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),st().map((t,a)=>e.jsx(ct.Fragment,{children:t==="..."?e.jsx("span",{className:"w-10 h-10 bg-transparent p-2 inline-flex items-center justify-center rounded-full customtext-neutral-dark",children:"..."}):e.jsx(o.button,{className:`w-10 h-10 p-2 inline-flex items-center justify-center rounded-xl transition-all duration-300 font-semibold
                                                        ${t===p.currentPage?" bg-primary text-white shadow-lg shadow-blue-500/25":"bg-white hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 customtext-primary border border-gray-200 hover:border-blue-300"}`,onClick:()=>Z(t),whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:t})},a)),e.jsxs(o.button,{className:`p-3 inline-flex items-center gap-2 rounded-xl transition-all duration-300 ${p.currentPage===p.totalPages?"opacity-50 cursor-not-allowed bg-gray-100":"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 customtext-primary border border-blue-200"}`,onClick:()=>Z(p.currentPage+1),disabled:p.currentPage===p.totalPages,whileTap:p.currentPage!==p.totalPages?{scale:.95}:{},children:[e.jsx("span",{className:"hidden sm:inline",children:"Siguiente"}),e.jsx(yt,{className:"h-4 w-4"})]})]})})}),e.jsx(o.div,{className:"w-full md:w-auto text-center md:text-right",whileHover:{scale:1.02},children:e.jsx("div",{className:"flex items-center justify-center md:justify-end gap-2 p-4",children:e.jsxs("p",{className:"font-semibold text-sm customtext-neutral-dark",children:[p.from," - ",p.to," de ",p.totalItems," Resultados"]})})})]})]})]})]})})},jt=`
    .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: #cbd5e1 #f1f5f9;
    }
    
    .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 10px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #3b82f6, #6366f1);
        border-radius: 10px;
        border: 1px solid #e2e8f0;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #2563eb, #4f46e5);
    }
    
    @keyframes shimmer {
        0% {
            transform: translateX(-100%) skew(-12deg);
        }
        100% {
            transform: translateX(200%) skew(-12deg);
        }
    }
    
    .animate-shimmer {
        animation: shimmer 2s infinite;
    }
    
    @keyframes float {
        0%, 100% {
            transform: translateY(0px);
        }
        50% {
            transform: translateY(-5px);
        }
    }
    
    .filter-shadow {
        box-shadow: 
            0 4px 6px -1px rgba(0, 0, 0, 0.1),
            0 2px 4px -1px rgba(0, 0, 0, 0.06),
            0 0 0 1px rgba(59, 130, 246, 0.1),
            0 0 20px rgba(59, 130, 246, 0.1);
    }
    
    .gradient-border {
        position: relative;
        background: linear-gradient(white, white) padding-box,
                    linear-gradient(135deg, #3b82f6, #6366f1, #8b5cf6) border-box;
        border: 2px solid transparent;
    }
`;if(typeof document<"u"){const C=document.createElement("style");C.type="text/css",C.innerText=jt,document.head.appendChild(C)}const vt=({children:C,text:k,position:f="top"})=>{const[M,F]=g.useState(!1),V={top:"-top-10 left-1/2 -translate-x-1/2",bottom:"-bottom-10 left-1/2 -translate-x-1/2",left:"-left-2 top-1/2 -translate-y-1/2 -translate-x-full",right:"-right-2 top-1/2 -translate-y-1/2 translate-x-full"};return e.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),children:[C,e.jsx(S,{children:M&&e.jsxs(o.div,{className:`absolute z-50 px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-lg whitespace-nowrap ${V[f]}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},children:[k,e.jsx("div",{className:`absolute w-0 h-0 border-l-4 border-r-4 border-transparent ${f==="top"?"border-t-4 border-t-gray-900 top-full left-1/2 -translate-x-1/2":f==="bottom"?"border-b-4 border-b-gray-900 bottom-full left-1/2 -translate-x-1/2":f==="left"?"border-l-4 border-l-gray-900 left-full top-1/2 -translate-y-1/2":"border-r-4 border-r-gray-900 right-full top-1/2 -translate-y-1/2"}`})]})})]})},O=({children:C,color:k="blue",onClick:f,className:M=""})=>{const F={blue:"bg-secondary border-blue-200 customtext-primary"};return e.jsx(o.div,{className:`inline-flex items-center gap-2 px-3 py-1.5  ${F[k]} border rounded-full text-sm font-medium cursor-pointer select-none ${M}`,onClick:f,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:C})};export{Ca as default};

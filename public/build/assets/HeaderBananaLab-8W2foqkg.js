import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r}from"./index-BH53Isel.js";import{G as L}from"./Global-ErywZRdd.js";import"./HeaderSearch-7Gr-0bsN.js";import"./main-6DCdASTx.js";import{L as p}from"./Logout-TGKOqZqZ.js";import{C as B}from"./HeaderBananaLab-Kc5yssSa.js";import{m as s}from"./proxy-F8AlgMSF.js";import{X as R}from"./x-DBMwyD6F.js";import{c as S}from"./createLucideIcon-Cy5Ya80P.js";import{S as f}from"./search-TwiiKGP5.js";import{C as j,D as y}from"./door-closed-Z4GbcMb-.js";import{A as H}from"./index-CmxRu895.js";import{H as D}from"./house-D_ORqlIe.js";import{H as M}from"./heart-ChuvJi-4.js";import{S as N}from"./shopping-cart-CZEUxbmv.js";import{U as v}from"./user-BvYmyGTY.js";import{S as _}from"./settings-BSPs3Zt8.js";import"./index-yBjzXJbu.js";import"./PaymentModal-Bxx5p2o_.js";import"./index-fNjTmf9T.js";import"./index-Chjiymov.js";import"./CartItemRow-JDzRN0oi.js";import"./Number2Currency-e57Tgsuk.js";import"./tippy-react.esm-BWiGTO87.js";import"./index-rimy3MAc.js";import"./trash-2-DK1wnsDn.js";import"./minus-jyhodMPN.js";import"./plus-Bot15Khs.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";/* empty css              */import"./shopping-bag-CoWGrL8C.js";import"./arrow-right-DR00rP9v.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=S("BookHeart",[["path",{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7",key:"1t75a8"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=S("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Me=({items:G,data:T,cart:m,setCart:A,isUser:i,pages:W,generals:b=[]})=>{const z={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},g=[{icon:e.jsx(v,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:e.jsx(N,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:e.jsx($,{size:16}),label:"Mis Projectos",href:"/customer/albums"},{icon:e.jsx(_,{size:16}),label:"Configuración",href:"/account"},{icon:e.jsx(y,{size:16}),label:"Cerrar Sesión",onClick:p}],w=b.find(t=>t.correlative==="phone_whatsapp"),k=b.find(t=>t.correlative==="message_whatsapp");w&&w.description,k&&k.description;const[F,d]=r.useState(!1),[n,C]=r.useState(!1),[U,V]=r.useState(!1),o=m.reduce((t,a)=>Number(t)+Number(a.quantity),0),O=m.reduce((t,a)=>{const I=a.discount?a.discount:a.price;return t+Number(a.quantity)*I},0),[l,u]=r.useState(!1),x=r.useRef(null),c=r.useRef(null);r.useEffect(()=>{function t(a){x.current&&!x.current.contains(a.target)&&C(!1),c.current&&!c.current.contains(a.target)&&u(!1)}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const[h,P]=r.useState(""),E=i&&Array.isArray(i.roles)&&i.roles.some(t=>t.name==="Customer");return e.jsxs(s.nav,{className:"bg-[#F8F9FA] shadow-md fonts-paragraph",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:[e.jsx("div",{className:"max-w-7xl mx-auto px-primary lg:px-0",children:e.jsxs("div",{className:"flex items-center justify-between h-20 lg:h-16",children:[e.jsx("div",{className:"flex md:hidden",children:e.jsx(s.button,{onClick:()=>C(!n),className:"inline-flex items-center justify-center py-2 rounded-md customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileTap:{scale:.9},children:n?e.jsx(R,{className:"h-6 w-6"}):e.jsx(q,{className:"h-6 w-6"})})}),e.jsx(s.a,{href:"/",className:"flex-shrink-0",whileHover:{scale:1.03},whileTap:{scale:.97},children:e.jsx("img",{className:"h-8 w-auto",src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:L.APP_NAME,onError:t=>t.target.src="/api/thumbnail/null"})}),e.jsx("div",{className:"-mr-2 flex md:hidden",children:e.jsx(s.button,{className:"inline-flex items-center justify-center p-2 rounded-md customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileTap:{scale:.9},children:e.jsx(f,{className:"h-6 w-6"})})}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:e.jsxs(s.div,{className:"relative w-[450px] mx-auto",whileHover:{scale:1.01},children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",value:h,onChange:t=>P(t.target.value),className:"w-full pr-14 py-3 pl-4 border-0 rounded-full focus:ring-0 focus:outline-none ring-0 bg-sections-color"}),e.jsx(s.a,{href:h.trim()?`/catalogo?search=${encodeURIComponent(h)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 customtext-neutral-dark rounded-lg","aria-label":"Buscar",whileTap:{scale:.9},children:e.jsx(f,{})})]})})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",ref:c,children:[i?e.jsxs(s.button,{className:"customtext-neutral-light flex gap-2 hover:customtext-primary transition-colors duration-200",onClick:()=>u(!l),whileHover:{scale:1.03},whileTap:{scale:.97},children:[e.jsx(j,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:i.name})]}):e.jsx(s.a,{href:"/iniciar-sesion",className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileHover:{scale:1.03},whileTap:{scale:.97},children:e.jsx(j,{className:"h-5 w-5"})}),e.jsx(H,{children:l&&e.jsx(s.div,{initial:"hidden",animate:"visible",exit:"exit",variants:z,className:"absolute z-50 top-full right-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:E?g.map((t,a)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:t.onClick,className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]})},a)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(D,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",onClick:p,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(y,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}),e.jsxs(s.button,{className:"relative customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx(s.span,{className:"h-3 w-3 bg-secondary absolute -top-1 -right-2 text-[10px] flex items-center justify-center text-white rounded-full",whileHover:{scale:1.2},children:"0"})]}),e.jsxs(s.button,{onClick:()=>d(!0),className:"relative customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx(s.span,{className:"h-3 w-3 bg-secondary absolute -top-1 -right-2 text-[10px] flex items-center justify-center text-white rounded-full",animate:o>0?{scale:[1,1.2,1]}:{},transition:{repeat:1/0,duration:1.5},children:o})]}),e.jsxs("div",{className:"hidden md:block ml-2 text-left",children:[e.jsx("p",{className:"text-xs font-medium",children:"Tu carrito"}),e.jsxs("p",{className:"text-sm font-bold",children:["S/ ",O.toFixed(2)]})]})]})]})}),e.jsx(s.div,{className:`md:hidden ${n?"block":"hidden"}`,initial:{opacity:0,height:0},animate:{opacity:n?1:0,height:n?"auto":0},transition:{duration:.2},ref:x,children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-[#F8F9FA]",children:[g.map((t,a)=>e.jsx(s.a,{href:t.href,className:"fonts-paragraph customtext-neutral-dark hover:customtext-primaryy block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:a*.05},children:t.name},t.name)),e.jsxs("div",{className:"flex items-center space-x-4 px-3 py-2",children:[e.jsx(s.button,{className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileTap:{scale:.9},children:e.jsx(f,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",ref:c,children:[i?e.jsx(s.button,{className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200",onClick:()=>u(!l),whileTap:{scale:.9},children:e.jsx(j,{className:"customtext-primary"})}):e.jsx(s.a,{href:"/iniciar-sesion",className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileTap:{scale:.9},children:e.jsx(v,{className:"h-5 w-5"})}),e.jsx(H,{children:l&&e.jsx(s.div,{className:"fixed z-[9999] right-4 mt-2 bg-white shadow-xl rounded-xl w-48",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:e.jsx("div",{className:"p-2",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx(s.li,{whileHover:{x:3},children:e.jsxs("a",{href:"/mi-cuenta",className:"flex items-center gap-2 px-3 py-2 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[e.jsx(v,{className:"customtext-primary",height:"1rem"}),e.jsx("span",{children:"Mi cuenta"})]})}),e.jsx(s.li,{whileHover:{x:3},children:e.jsxs("button",{onClick:p,className:"w-full flex items-center gap-2 px-3 py-2 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[e.jsx(y,{className:"customtext-primary",height:"1rem"}),e.jsx("span",{children:"Cerrar sesión"})]})})]})})})})]}),e.jsxs(s.button,{className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200 relative",whileTap:{scale:.9},children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx("span",{className:"h-3 w-3 bg-secondary absolute -top-1 -right-2 text-[10px] flex items-center justify-center text-white rounded-full",children:"0"})]}),e.jsxs(s.button,{onClick:()=>d(!0),className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200 relative",whileTap:{scale:.9},children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx(s.span,{className:"h-3 w-3 bg-secondary absolute -top-1 -right-2 text-[10px] flex items-center justify-center text-white rounded-full",animate:o>0?{scale:[1,1.2,1]}:{},transition:{repeat:1/0,duration:1.5},children:o})]})]})]})}),e.jsx(B,{data:T,cart:m,setCart:A,modalOpen:F,setModalOpen:d})]})};export{Me as default};

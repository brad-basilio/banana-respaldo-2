import{j as n}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BH53Isel.js";import{a as U}from"./adjustTextColor-DJKJvkxA.js";import{G as k}from"./Global-ErywZRdd.js";import{T as q}from"./tag-BY9rARtP.js";import{C as z}from"./chevron-left-B2s3ZsB7.js";import{C as G}from"./chevron-right-Ckt5D2ka.js";import"./index-yBjzXJbu.js";import"./createLucideIcon-Cy5Ya80P.js";const se=({items:f,data:r})=>{const C=(e=>{const t=["true","si"],o=["false","no"];return t.includes(e==null?void 0:e.toLowerCase())?!0:(o.includes(e==null?void 0:e.toLowerCase()),!1)})(r==null?void 0:r.infiniteLoop),[s,m]=l.useState(1),i=l.useRef(null),a=l.useRef(!1),g=l.useRef(0),c=l.useRef(0),u=[f[f.length-1],...f,f[0]],E=["center","left","right"],M=["yes","true","si"],b=E.includes(r==null?void 0:r.paginationAlignment),y=b?r==null?void 0:r.paginationAlignment:"center",j=M.includes(r==null?void 0:r.showNavigation);j&&(r==null||r.navigationAlignment);const x=()=>{m(e=>(e+1)%u.length)},p=()=>{m(e=>e===0?u.length-1:e-1)},v=e=>{let t=e.target;for(;t;){if(t.tagName==="A"||t.tagName==="BUTTON")return!0;t=t.parentElement}return!1},I=e=>{v(e)||(a.current=!0,g.current=e.touches[0].pageX,i.current.style.transition="none")},R=e=>{if(!a.current)return;const t=e.touches[0].pageX-g.current;c.current=-s*100+t/window.innerWidth*100,i.current.style.transform=`translateX(${c.current}%)`},A=e=>{if(!a.current)return;a.current=!1,i.current.style.transition="transform 0.5s ease-in-out",Math.abs((c.current+s*100)*(window.innerWidth/100))>20?c.current>-s*100?p():x():m(s),i.current.style.transform=`translateX(-${s*100}%)`},L=e=>{v(e)||(a.current=!0,g.current=e.pageX,i.current.style.transition="none")},P=e=>{if(!a.current)return;const t=e.pageX-g.current;c.current=-s*100+t/window.innerWidth*100,i.current.style.transform=`translateX(${c.current}%)`},N=e=>{if(!a.current)return;a.current=!1,i.current.style.transition="transform 0.5s ease-in-out",Math.abs((c.current+s*100)*(window.innerWidth/100))>20?c.current>-s*100?p():x():m(s),i.current.style.transform=`translateX(-${s*100}%)`},S=()=>{a.current&&N()};C&&l.useEffect(()=>{const e=setInterval(()=>{x()},5e3);return()=>clearInterval(e)},[s]),l.useEffect(()=>{s===0?setTimeout(()=>{i.current.style.transition="none",m(u.length-2),requestAnimationFrame(()=>{i.current.style.transform=`translateX(-${(u.length-2)*100}%)`,setTimeout(()=>{i.current.style.transition="transform 0.5s ease-in-out"},50)})},500):s===u.length-1&&setTimeout(()=>{i.current.style.transition="none",m(1),requestAnimationFrame(()=>{i.current.style.transform=`translateX(-${1*100}%)`,setTimeout(()=>{i.current.style.transition="transform 0.5s ease-in-out"},50)})},500)},[s]);const T=l.useRef([]);l.useEffect(()=>{T.current.forEach(e=>{e&&U(e)})},[f]);const[w,_]=l.useState(!1),D=e=>{const t=new window.Image;t.crossOrigin="Anonymous",t.src=e,t.onload=function(){const o=document.createElement("canvas");o.width=t.width,o.height=t.height;const $=o.getContext("2d");$.drawImage(t,0,0,t.width,t.height);const h=$.getImageData(0,0,o.width,o.height);let X=0;for(let d=0;d<h.data.length;d+=4){const B=h.data[d],F=h.data[d+1],V=h.data[d+2],W=(B*299+F*587+V*114)/1e3;X+=W}const O=X/(h.data.length/4);_(O<128)}};return l.useEffect(()=>{const e=u[s];e!=null&&e.bg_image&&D(`/storage/images/slider/${e.bg_image}`)},[s,u]),n.jsxs("div",{className:"relative w-full mx-auto",children:[n.jsx("div",{className:"overflow-hidden relative cursor-grab ease",onMouseDown:L,onMouseMove:P,onMouseUp:N,onMouseLeave:S,onTouchStart:I,onTouchMove:R,onTouchEnd:A,children:n.jsx("div",{ref:i,className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${s*100}%)`},children:u.map((e,t)=>n.jsxs("div",{className:"w-full h-[589px] lg:h-auto  flex-shrink-0 relative",children:[n.jsx("img",{src:`/storage/images/slider/${e.bg_image||"undefined"}`,alt:e.name,loading:"lazy",className:`absolute top-0  left-0 h-full md:h-full  w-screen md:w-full object-cover ${(r==null?void 0:r.imageBgPosition)||"object-right-25 "} md:object-center  z-0  md:mr-20 lg:mr-0`}),(r==null?void 0:r.overlayMobile)&&n.jsx("div",{className:"md:hidden absolute inset-0 bg-gradient-to-b from-transparent to-white"}),n.jsx("div",{className:`relative w-full px-primary 2xl:px-0 2xl:max-w-7xl  mx-auto  h-[530px] md:h-[600px] flex flex-col items-start justify-end md:justify-center ${w?"text-white":"customtext-neutral-dark"}`,children:n.jsxs("div",{className:"flex flex-col gap-5 lg:gap-10 items-start",children:[n.jsx("h2",{className:`${k.APP_CORRELATIVE==="stechperu"?"w-9/12  md:w-full md:max-w-md ":"w-full  md:w-full md:max-w-lg "} font-title text-[40px] leading-tight sm:text-5xl md:text-6xl tracking-normal font-bold ${w?"text-white":"customtext-neutral-dark"}`,style:{textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:e.name}),n.jsx("p",{className:`${k.APP_CORRELATIVE==="stechperu"?"w-8/12":"w-full"} md:w-full md:max-w-md text-lg leading-tight font-paragraph ${w?"text-white":"customtext-neutral-dark"}`,style:{textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:e.description}),e.button_text&&e.button_link&&n.jsx("div",{className:"flex flex-row gap-5 md:gap-10 justify-center items-start",children:n.jsxs("a",{href:e.button_link,ref:o=>T.current[t]=o,className:"bg-primary border-none flex flex-row items-center gap-3 px-10 py-4 text-base rounded-xl tracking-wide font-bold hover:opacity-90 transition-all duration-300",onClick:o=>{o.stopPropagation()},onMouseDown:o=>o.stopPropagation(),onTouchStart:o=>o.stopPropagation(),children:[e.button_text,n.jsx(q,{width:"1.25rem",className:"transform rotate-90"})]})})]})})]},`slide-${t}`))})}),j&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 ",children:n.jsx("button",{onClick:p,className:"bg-secondary rounded-r-lg text-white w-12 h-12 flex items-center justify-center transition-colors duration-300",children:n.jsx(z,{width:"1rem"})})}),n.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 ",children:n.jsx("button",{onClick:x,className:"bg-secondary rounded-l-lg text-white w-12 h-12 flex items-center justify-center transition-colors duration-300",children:n.jsx(G,{width:"1rem"})})})]}),b&&n.jsx("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto ",children:n.jsx("div",{className:"relative",children:n.jsx("div",{className:`absolute bottom-4 ${y==="left"?"inset-x-0 left-0":y==="right"?"right-0":"left-1/2 transform -translate-x-1/2"}`,children:f.map((e,t)=>n.jsx("div",{className:`inline-flex mx-1 w-3 h-3 rounded-full ${s===t+1?"bg-white h-5 w-5 lg:w-6 lg:h-6 items-center justify-center border-2 border-primary":"bg-secondary"}`,onClick:()=>m(t+1),children:s===t+1&&n.jsx("div",{className:"w-3 h-3 bg-primary rounded-full items-center justify-center"})},`dot-${t}`))})})})]})};export{se as default};

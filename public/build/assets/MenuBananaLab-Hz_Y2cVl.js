import{j as t}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BH53Isel.js";import{t as g}from"./MobileMenu-CWbk-3V9.js";import{C as v}from"./chevron-up-D78jyEhP.js";import{C as j}from"./chevron-down-DS-mdh9v.js";import"./index-yBjzXJbu.js";import"./main-Byrjfx4U.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./BasicRest-DByHAxxD.js";import"./index-BJa4kPFi.js";import"./index-fRpqIG3j.js";import"./index-B6ujFmsw.js";import"./createLucideIcon-Cy5Ya80P.js";const S=({pages:C=[],items:u})=>{const[N,d]=n.useState(!1),[i,c]=n.useState(null),[m,f]=n.useState([]),l=n.useRef(null);n.useEffect(()=>{function e(s){l.current&&!l.current.contains(s.target)&&(d(!1),c(null))}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),n.useEffect(()=>{(async()=>{try{console.log("Fetching active tags...");const s=await g.getTags();if(console.log("Tags response:",s),s!=null&&s.data){const r=s.data.filter(o=>o.promotional_status==="permanent"||o.promotional_status==="active").sort((o,a)=>o.promotional_status==="active"&&a.promotional_status!=="active"?-1:a.promotional_status==="active"&&o.promotional_status!=="active"?1:o.name.localeCompare(a.name));f(r),console.log("Active tags set:",r);const p=r.filter(o=>o.promotional_status==="active").length,h=r.filter(o=>o.promotional_status==="permanent").length;if(console.log(`ðŸŽ¯ Tags cargados: ${p} promocionales activos, ${h} permanentes`),p>0){const o=r.filter(a=>a.promotional_status==="active");console.log("ðŸŽ‰ Promociones activas:",o.map(a=>`${a.name} (${a.start_date} - ${a.end_date})`))}}}catch(s){console.error("Error fetching tags:",s)}})()},[]);const x=e=>{c(i===e?null:e)};return t.jsx("nav",{className:"hidden md:block  font-paragraph font-normal text-sm py-4",children:t.jsxs("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto flex justify-between",children:[t.jsx("ul",{className:"flex items-center gap-6 text-sm",ref:l,children:u.map(e=>t.jsxs("li",{className:"relative py-3 group",children:[t.jsxs("div",{className:"flex items-center gap-1 hover:customtext-primary",children:[t.jsx("a",{href:`/catalogo?category=${e.slug}`,className:" cursor-pointer transition-all duration-300 pr-2 relative ",children:e.name}),e.subcategories.length>0&&t.jsx("button",{onClick:()=>x(e.id),className:"customtext-netrual-dark hover:text-primary",children:i===e.id?t.jsx(v,{size:16}):t.jsx(j,{size:16})})]}),i===e.id&&e.subcategories.length>0&&t.jsx("div",{className:"absolute z-40 top-full left-0 bg-white shadow-md rounded-md py-2 min-w-[200px]",children:t.jsx("ul",{className:"space-y-2 px-4 py-2",children:e.subcategories.map(s=>t.jsx("li",{children:t.jsx("a",{href:`/catalogo?subcategory=${s.slug}`,className:"customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300 cursor-pointer block py-1",children:s.name})},s.id))})})]},e.id))}),m.length>0&&t.jsx("div",{className:"flex items-center gap-4 text-sm",children:m.map((e,s)=>t.jsxs("a",{href:`/catalogo?tag=${e.id}`,className:"font-medium rounded-full px-6 py-3 hover:brightness-105 cursor-pointer transition-all duration-300 relative flex items-center gap-2",style:{backgroundColor:e.background_color||"#3b82f6",color:e.text_color||"#ffffff"},title:e.description||e.name,children:[e.icon&&t.jsx("img",{src:`/storage/images/tag/${e.icon}`,alt:e.name,className:"w-4 h-4",onError:r=>r.target.src="/api/cover/thumbnail/null"}),e.name]},e.id))})]})})};export{S as default};

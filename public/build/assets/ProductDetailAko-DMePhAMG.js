import{j as a}from"./AboutSimple-Cf8x2fCZ.js";import{r as t}from"./index-BH53Isel.js";import{I as M}from"./ItemsRest-BoPcWbS4.js";import"./ProductCard-CPvTUUL_.js";import"./main-6DCdASTx.js";import"./BlogCarousel-CCgb3gK1.js";/* empty css               */import"./InfiniteCategory-BtlY-czj.js";import"./ProductMakita-Dhf5p5Ee.js";import"./ProductNavigation-BuHcoFra.js";import{C as P}from"./HeaderSearch-DGp6ANN1.js";/* empty css              */import V from"./ProductNavigationSwiperSimple-CwxIlC0V.js";import"./index-yBjzXJbu.js";import"./BasicRest-DilbmL4o.js";import"./index-CC1Omfac.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./proxy-F8AlgMSF.js";import"./eye-CKCH9ORv.js";import"./createLucideIcon-Cy5Ya80P.js";import"./PaymentModal-Bxx5p2o_.js";import"./index-Chjiymov.js";import"./CartItemRow-CLVGv7Ee.js";import"./Number2Currency-e57Tgsuk.js";import"./tippy-react.esm-BWiGTO87.js";import"./trash-2-DK1wnsDn.js";import"./plus-Bot15Khs.js";import"./index-CmxRu895.js";import"./adjustTextColor-FzLvY4Q1.js";import"./ProductCardColors-CO9H3P6L.js";import"./navigation-cW_iC-Qg.js";import"./create-element-if-not-defined-GPUxtyu9.js";import"./TextWithHighlight-D9vn5Zbl.js";import"./arrow-left-DT1uGo8v.js";import"./arrow-right-DR00rP9v.js";function Is({item:s,data:m,setCart:i,cart:o,textstatic:N,contacts:v}){var u,g,h,f,j,b;const c=new M,[y,w]=t.useState(!1),[n,p]=t.useState({url:s==null?void 0:s.image,type:"main"}),[A,O]=t.useState(1),S=r=>{var e;return((e=v.find(l=>l.correlative===r))==null?void 0:e.description)||""};(u=N.find(r=>r.correlative=="detailproduct-relation-title"))==null||u.title;const[k,T]=t.useState(!1),[I,$]=t.useState([]),[x,E]=t.useState([]),[D,_]=t.useState([]);o==null||o.find(r=>r.id==(s==null?void 0:s.id)),t.useEffect(()=>{s!=null&&s.id&&(R(s),C(s),F(s),q(s))},[s]);const F=async r=>{try{const e={id:r==null?void 0:r.id};if(console.log(e),!await c.updateViews(e))return}catch{return}},C=async r=>{try{const e={id:r==null?void 0:r.id},l=await c.verifyCombo(e);if(!l)return;const d=l[0].associated_items;$(Object.values(d))}catch{return}},R=async r=>{try{const e={id:r==null?void 0:r.id},l=await c.productsRelations(e);if(!l)return;E(Object.values(l))}catch{return}},q=async r=>{try{const e={slug:r==null?void 0:r.slug},l=await c.getVariations(e);if(!l)return;_(l.variants)}catch{return}};I.reduce((r,e)=>r+parseFloat(e.final_price),0);const[H,U]=t.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"px-primary mx-auto pt-4 md:pt-6 xl:pt-8 bg-white",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 md:p-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-20 2xl:gap-32",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx("div",{className:"flex-1",children:a.jsx("img",{src:n.type==="main"?`/storage/images/item/${n.url}`:`/storage/images/item/${n.url}`,onError:r=>r.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full h-auto object-contain"})}),a.jsxs("div",{className:"flex flex-row gap-2",children:[a.jsx("button",{onClick:()=>p({url:s==null?void 0:s.image,type:"main"}),className:`w-16 h-16  rounded-lg p-1 border-2 ${n.url===(s==null?void 0:s.image)?"border-primary ":"border-gray-200"}`,children:a.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,alt:"Main Thumbnail",className:"w-full h-full object-cover",onError:r=>r.target.src="/api/cover/thumbnail/null"})}),s==null?void 0:s.images.map((r,e)=>a.jsx("button",{onClick:()=>p({url:r.url,type:"gallery"}),className:`w-16 h-16 border-2 rounded-lg p-1 ${n.url===r.url?"border-primary":"border-gray-200"}`,children:a.jsx("img",{src:`/storage/images/item/${r.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${e+1}`,className:"w-full h-full object-cover",onError:l=>l.target.src="/api/cover/thumbnail/null"})},e))]})]})}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("div",{className:"font-title",children:a.jsx("h1",{className:"customtext-neutral-dark text-3xl lg:text-4xl 2xl:text-5xl font-semibold",children:s==null?void 0:s.name})}),(s==null?void 0:s.summary)&&a.jsx("div",{className:"flex flex-col customtext-neutral-dark font-title text-base 2xl:text-lg mt-1",children:a.jsx("p",{children:s==null?void 0:s.summary})}),a.jsx("div",{className:"grid grid-cols-1 gap-3 my-3",children:((g=s==null?void 0:s.specifications)==null?void 0:g.length)>0&&s.specifications.map((r,e)=>r.type==="icono"&&a.jsxs("div",{className:"text-base 2xl:text-lg gap-3 customtext-primary flex flex-row items-center justify-start text-left",children:[a.jsx("div",{className:"bg-[#0082CA] rounded-full overflow-hidden min-w-12",children:a.jsx("img",{src:`/storage/images${r.title}`,alt:r.description,className:"w-12 h-12 object-contain p-2",onError:l=>l.target.src="/assets/img/noimage/noicon.png"})}),a.jsxs("h2",{children:[r.description," "]})]},e))}),a.jsx("div",{className:"flex flex-col w-full xl:w-1/2 font-title max-w-xl mt-3 gap-1",children:(s==null?void 0:s.final_price)<(s==null?void 0:s.price)&&(s==null?void 0:s.final_price)>0?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-base 2xl:text-lg customtext-neutral-dark font-medium",children:["Precio:"," ",a.jsxs("span",{className:"line-through font-normal",children:["S/ ",s==null?void 0:s.price]})]}),a.jsxs("div",{className:"flex flex-row items-center gap-4 relative",children:[a.jsxs("span",{className:"text-3xl md:text-4xl 2xl:text-5xl font-semibold customtext-neutral-dark",children:["S/ ",s==null?void 0:s.final_price]}),a.jsxs("span",{className:"bg-[#F93232] text-white font-semibold px-3 py-2 rounded-xl text-base",children:["-",Number(s==null?void 0:s.discount_percent).toFixed(1),"%"]})]})]}):a.jsxs("span",{className:"text-3xl md:text-4xl 2xl:text-5xl font-semibold customtext-neutral-dark",children:["S/ ",s==null?void 0:s.price]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mt-4 gap-4 md:gap-6",children:[a.jsx("a",{target:"_blank",href:`https://api.whatsapp.com/send?phone=${S("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo mayor información acerca del producto: ${s==null?void 0:s.name}`)}`,className:"bg-accent w-full text-base lg:text-lg customtext-neutral-light px-5 text-center py-2.5 rounded-lg",children:"Solicitar cotizacion"}),a.jsx("a",{className:"bg-secondary w-full text-base lg:text-lg customtext-neutral-light px-5 text-center py-2.5 rounded-lg",children:"Descargar ficha técnica"})]})]})]})}),a.jsxs("div",{className:"grid gap-10 lg:gap-20 md:grid-cols-2 bg-white rounded-xl p-4 sm:p-8 font-title",children:[a.jsxs("div",{className:"font-title",children:[((h=s==null?void 0:s.description)==null?void 0:h.replace(/<[^>]+>/g,""))&&a.jsx("h2",{className:"text-2xl font-semibold customtext-neutral-dark mb-4 border-secondary border-b pb-3",children:"Información adicional"}),a.jsxs("div",{className:`space-y-2 ${k?"":"max-h-none overflow-hidden"}`,children:[((f=s==null?void 0:s.description)==null?void 0:f.replace(/<[^>]+>/g,""))&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artículo"}),a.jsx("div",{className:"customtext-neutral-dark 2xl:text-lg",dangerouslySetInnerHTML:{__html:s==null?void 0:s.description}})]}),((j=s==null?void 0:s.features)==null?void 0:j.length)>0&&a.jsx("div",{className:"pl-10",children:a.jsx("ul",{className:"list-disc pl-5 space-y-2",children:s==null?void 0:s.features.map((r,e)=>a.jsx("li",{className:"customtext-neutral-dark",children:r.feature},e))})})]})]}),((b=s==null?void 0:s.specifications)==null?void 0:b.length)>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Especificaciones"}),a.jsx("div",{className:"space-y-1",children:s.specifications.map((r,e)=>r.type==="general"&&a.jsxs("div",{className:`grid grid-cols-2 gap-4 p-3 ${e%2===0?"bg-[#F7F9FB]":"bg-white"}`,children:[a.jsx("div",{className:"customtext-neutral-dark ",children:r.title}),a.jsx("div",{className:"customtext-neutral-dark opacity-85",children:r.description})]},e))})]})]})]}),x.length>0&&a.jsx(V,{data:{title:"Productos %relacionados%"},items:x,cart:o,setCart:i}),a.jsx(P,{cart:o,data:m,setCart:i,modalOpen:y,setModalOpen:w})]})}export{Is as default};

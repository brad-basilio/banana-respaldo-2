import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as m}from"./index-BH53Isel.js";import{I as l}from"./InputForm-ZnsQvLid.js";import"./main-6DCdASTx.js";import{t as u}from"./index-BZYhE2TF.js";import{S as p}from"./send-BiBlJCqH.js";import"./index-yBjzXJbu.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";import"./createLucideIcon-Cy5Ya80P.js";const F=()=>{const[a,d]=m.useState({name:"",email:"",phone:"",dni:"",type:"queja",incident_date:"",order_number:"",priority:"media",description:"",files:[]}),[s,c]=m.useState(""),r=o=>{const{name:n,value:t}=o.target;d({...a,[n]:t})},x=o=>{d({...a,files:o.target.files})},h=async o=>{o.preventDefault();const n=new FormData;for(const t in a)if(t==="files")for(let i=0;i<a.files.length;i++)n.append("files[]",a.files[i]);else n.append(t,a[t]);try{const t=await fetch("/api/complaints",{method:"POST",body:n});if(!t.ok)throw new Error("Error al registrar el reclamo");const i=await t.json();c("Reclamo registrado con éxito"),u.success("Solicitud enviada",{description:"Pronto nos comunicaremos contigo ¡Gracias!.",icon:e.jsx(p,{className:"h-5 w-5 text-green-500"}),duration:3e3,position:"bottom-center"})}catch(t){c("Error al registrar el reclamo: "+t.message),u.error("Solicitud rechazada",{description:t||"Lo sentimos, no se envió su solicitud.",icon:e.jsx(p,{className:"h-5 w-5 text-red-500"}),duration:3e3,position:"bottom-center"})}};return e.jsx("div",{className:" w-full px-primary mx-auto py-16 bg-[#F7F9FB]",children:e.jsxs("div",{className:"max-w-7xl mx-auto  bg-white shadow-lg rounded-2xl customtext-neutral-dark p-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-10 text-center uppercase",children:"Libro de Reclamaciones"}),e.jsxs("form",{onSubmit:h,className:"gap-6 grid lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-3 grid lg:grid-cols-2 gap-6",children:[e.jsx(l,{label:"Nombre Completo *",type:"text",name:"name",value:a.name,onChange:r,placeholder:"Apellidos y Nombres"}),e.jsx(l,{label:"Email *",type:"email",name:"email",value:a.email,onChange:r,placeholder:"hola@mail.com"})]}),e.jsx(l,{label:"Teléfono *",type:"number",name:"phone",value:a.phone,onChange:r,placeholder:"hola@mail.com"}),e.jsx(l,{label:"DNI *",type:"number",name:"dni",value:a.dni,onChange:r,placeholder:"DNI"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark ",children:"Tipo de Reclamo *"}),e.jsxs("select",{name:"type",onChange:r,required:!0,defaultValue:a.type,className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",children:[e.jsx("option",{value:"queja",children:"Queja"}),e.jsx("option",{value:"sugerencia",children:"Sugerencia"}),e.jsx("option",{value:"reclamo técnico",children:"Reclamo Técnico"})]})]}),e.jsx(l,{label:" Fecha del Incidente *",type:"date",name:"incident_date",value:a.incident_date,onChange:r,placeholder:"Fecha del Incidente"}),e.jsx(l,{label:"Número de Pedido *",type:"text",name:"order_number",value:a.order_number,onChange:r,placeholder:"Número de Pedido"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Prioridad *"}),e.jsxs("select",{name:"priority",onChange:r,required:!0,defaultValue:a.priority,className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",children:[e.jsx("option",{value:"baja",children:"Baja"}),e.jsx("option",{value:"media",children:"Media"}),e.jsx("option",{value:"alta",children:"Alta"})]})]}),e.jsxs("div",{className:"lg:col-span-3 grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Descripción *"}),e.jsx("textarea",{name:"description",placeholder:"Descripción",onChange:r,required:!0,className:"w-full min-h-32  px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Archivos Adjuntos"}),e.jsx("input",{type:"file",name:"files",multiple:!0,onChange:x,className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300"})]})]}),e.jsxs("div",{className:"lg:col-span-3 grid lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full rounded-xl font-semibold  bg-primary px-4 py-3 text-white hover:opacity-90 focus:outline-none focus:ring-2 transition-all duration-300",children:"Enviar Reclamo"})}),s&&e.jsx("div",{className:`mt-4 p-4 rounded-md ${s.includes("éxito")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s})]})]})]})})};export{F as default};

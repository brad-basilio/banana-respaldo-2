var d=Object.defineProperty;var p=(c,t,o)=>t in c?d(c,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[t]=o;var i=(c,t,o)=>p(c,typeof t!="symbol"?t+"":t,o);import{m as s}from"./main-6DCdASTx.js";import{t as a}from"./index-BZYhE2TF.js";import{G as u}from"./Global-D6eBBAMK.js";class n{}i(n,"login",async t=>{var o;console.log(t);try{const{status:r,result:e}=await s.Fetch("./api/login-client",{method:"POST",body:JSON.stringify(t)});return!r||e.status!==200?(a.error("Error al iniciar sesión",{description:e.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),!1):(a.success("¡Inicio de sesión exitoso!",{description:`Bienvenido${(o=e==null?void 0:e.data)!=null&&o.name?`, ${e.data.name}`:""} a ${u.APP_NAME}.`,duration:3e3,position:"top-right",richColors:!0}),e)}catch(r){return a.error("Error al iniciar sesión",{description:r.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),!1}}),i(n,"signup",async t=>{var o;try{const{status:r,result:e}=await s.Fetch("./api/signup-client",{method:"POST",body:JSON.stringify(t)});if(!r)throw new Error((e==null?void 0:e.message)||"Error al registrar el usuario");return a.success("¡Registro exitoso!",{description:`Bienvenido${(o=e==null?void 0:e.data)!=null&&o.name?`, ${e.data.name}`:""} a ${u.APP_NAME}. Tu cuenta ha sido creada correctamente.`,duration:3e3,position:"top-right",richColors:!0}),e.data}catch(r){return a.error("¡Registro fallido!",{description:r.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),null}}),i(n,"forgotPassword",async t=>{try{const{status:o,result:r}=await s.Fetch("./api/forgot-password-client",{method:"POST",body:JSON.stringify(t)});if(!o)throw new Error((r==null?void 0:r.message)||"Error al solicitar el restablecimiento de contraseña");return r.data&&r.data.user_exists===!1?(a.warning("Cuenta no encontrada",{description:"No tienes una cuenta registrada con este correo. ¿Deseas crear una cuenta?",duration:5e3,position:"top-right",richColors:!0,action:{label:"Crear cuenta",onClick:()=>{window.location.href="/crear-cuenta"}},actionButtonStyle:{backgroundColor:u.APP_COLOR_PRIMARY||"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"}}),{success:!1,user_exists:!1,message:"Email no registrado"}):(a.success("¡Correo enviado!",{description:"Se ha enviado un enlace para restablecer tu contraseña a tu correo electrónico.",duration:3e3,position:"top-right",richColors:!0}),{success:!0,user_exists:!0,message:r.message})}catch(o){return a.error("Error al solicitar el restablecimiento de contraseña",{description:o.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),{success:!1,user_exists:null,message:o.message}}}),i(n,"resetPassword",async t=>{try{const{status:o,result:r}=await s.Fetch("./api/reset-password-client",{method:"POST",body:JSON.stringify(t)});if(!o)throw new Error((r==null?void 0:r.message)||"Error al restablecer la contraseña");return a.success("¡Contraseña restablecida!",{description:"Tu contraseña ha sido restablecida correctamente. Puedes iniciar sesión con tu nueva contraseña.",duration:3e3,position:"top-right",richColors:!0}),!0}catch(o){return a.error("Error al restablecer la contraseña",{description:o.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),!1}}),i(n,"get",async t=>{try{const{status:o,result:r}=await s.Fetch(t,{method:"GET"});if(!o)throw new Error((r==null?void 0:r.message)||"Error en la petición");return r}catch(o){throw a.error("Error",{description:o.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),o}}),i(n,"delete",async t=>{try{const{status:o,result:r}=await s.Fetch(t,{method:"DELETE"});if(!o)throw new Error((r==null?void 0:r.message)||"Error al eliminar");return r}catch(o){throw a.error("Error al eliminar",{description:o.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),o}}),i(n,"post",async(t,o)=>{try{const{status:r,result:e}=await s.Fetch(t,{method:"POST",body:JSON.stringify(o)});if(!r)throw new Error((e==null?void 0:e.message)||"Error al crear");return e}catch(r){throw a.error("Error al crear",{description:r.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),r}}),i(n,"put",async(t,o)=>{try{const{status:r,result:e}=await s.Fetch(t,{method:"PUT",body:JSON.stringify(o)});if(!r)throw new Error((e==null?void 0:e.message)||"Error al actualizar");return e}catch(r){throw a.error("Error al actualizar",{description:r.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),r}});export{n as A};

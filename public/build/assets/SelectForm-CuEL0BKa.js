import{j as t}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BH53Isel.js";import{C}from"./chevron-down-DS-mdh9v.js";import{S as E}from"./search-TwiiKGP5.js";import{C as L}from"./check-DQ7QoS0v.js";const T=({options:a=[],placeholder:h="Select an option",onChange:v,valueKey:j,labelKey:y,label:x,labelClass:g,className:w,disabled:N=!1,value:n=null})=>{const[c,u]=l.useState(!1),[s,i]=l.useState(null),[d,k]=l.useState(""),m=l.useRef(null),o=a.length>0&&typeof a[0]=="object",p=o?j||Object.keys(a[0])[0]:null,b=o?y||Object.keys(a[0])[1]:null,r=l.useMemo(()=>a.map(e=>o?{value:e[p],label:e[b]}:{value:e,label:e}),[a,o,p,b]),S=l.useMemo(()=>r.filter(e=>e.label.toLowerCase().includes(d.toLowerCase())),[r,d]);l.useEffect(()=>{if(n&&r.length>0){const e=r.find(f=>f.value===n);e&&(!s||s.value!==e.value)&&i(e)}else!n&&s&&i(null)},[n,r]),l.useEffect(()=>{const e=f=>{m.current&&!m.current.contains(f.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const O=e=>{i(e),v(e.value),u(!1)};return t.jsxs("div",{className:"relative w-full",ref:m,children:[x&&t.jsx("label",{className:`block text-sm mb-1 customtext-neutral-dark ${g}`,children:x}),t.jsxs("button",{type:"button",className:`w-full relative text-start  px-4 py-3 border customtext-neutral-dark   rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300 ${w}`,onClick:()=>u(!c),"aria-haspopup":"listbox","aria-expanded":c,disabled:N,children:[t.jsx("span",{className:"block truncate",children:s?s.label:h}),t.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center justify-center py-3 pr-2 pointer-events-none",children:t.jsx(C,{className:`w-5 h-5 customtext-neutral-dark transition-transform duration-200 ${c?"rotate-180":""}`})})]}),c&&t.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg max-h-60 overflow-auto",children:[t.jsx("div",{className:"sticky top-0 bg-white p-2",children:t.jsxs("div",{className:"relative",children:[t.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search options...",value:d,onChange:e=>k(e.target.value)})]})}),t.jsx("ul",{className:"py-1",role:"listbox",children:S.map(e=>t.jsxs("li",{className:`px-4 py-2 cursor-pointer flex items-center justify-between 
                                    ${s&&s.value===e.value?"bg-blue-500 text-white":"hover:bg-gray-100"}`,onClick:()=>O(e),role:"option","aria-selected":s&&s.value===e.value,children:[t.jsx("span",{className:"block truncate",children:e.label}),s&&s.value===e.value&&t.jsx(L,{className:"w-5 h-5"})]},e.value))})]})]})};export{T as S};

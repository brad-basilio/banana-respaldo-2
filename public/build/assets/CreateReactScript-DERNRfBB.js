import{W as C}from"./index.esm-POOiSFi2.js";import{m as h}from"./main-6DCdASTx.js";import{G as y}from"./Global-D6eBBAMK.js";/* empty css               *//* empty css              */import{G as $}from"./General-BmbBKdsB.js";import{L as k}from"./LaravelSession-Dz9cpV3l.js";let p=[];const E=(...l)=>{const a=[];return Array.isArray(l)?a.push(...l):a.push(l),!!p.find(i=>a.includes(i.name))},T=l=>{C({resolve:a=>`/${a}.jsx`,setup:({el:a,props:i})=>{var m;const o=i.initialPage.props;if(o!=null&&o.global)for(const s in o.global)y.set(s,o.global[s]);if(o!=null&&o.generals)for(const s in o.generals){const{correlative:e,description:t}=o.generals[s];$.set(e,t)}const c={...o==null?void 0:o.session};for(const s in c)k.set(`${s}`,c[s]);const A=(s,...e)=>{var f,d,u,g;const t=[];if(Array.isArray(s))for(const n of s)t.push(...e.map(r=>`${n}.${r}`));else t.push(...e.map(n=>`${s}.${n}`));if((d=(f=o==null?void 0:o.session)==null?void 0:f.permissions)!=null&&d.find(n=>t.includes(n.name)||n.name=="general.root"))return!0;const v=((u=o==null?void 0:o.session)==null?void 0:u.roles)??[];for(const n of v)if((g=n==null?void 0:n.permissions)!=null&&g.find(r=>t.includes(r.name)||r.name=="general.root"))return!0;return!1};p=((m=o==null?void 0:o.session)==null?void 0:m.roles)??[],h.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(h.Cookies.get("XSRF-TOKEN"))},l(a,{...o,can:A,hasRole:E}),y.APP_ENV==="local"&&document.querySelectorAll(".modal-backdrop").forEach(e=>{console.log(e),e.textContent||e.remove()})}})};export{T as C,E as h};
